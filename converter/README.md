# GUI-Guider C to Lua Converter

This tool is designed to convert C code for UI layouts, generated by NXP's GUI-Guider software, into Lua code compatible with a LuartOS project. It automates the process of parsing C source files, generating corresponding Lua UI definitions, and merging them into a single, structured output file.

## Features

- **C Parser**: Parses `lv_obj_create`, `lv_obj_set_...` properties, and other UI-related C function calls.
- **Lua Generator**: Converts the parsed C elements into equivalent Lua code, following a `ui.widget.property` structure.
- **Automated Merging**: Takes a directory of C files, converts each one, and then automatically merges the resulting Lua files into a single file.
- **Structured Output**: The final Lua file organizes the UI creation for each screen into a separate function (e.g., `ui.create_screen_0()`, `ui.create_screen_1()`) and provides a main `ui.create_all_screens()` function for easy initialization.

## Directory Structure

- `main.py`: The main command-line interface for the tool.
- `parser.py`: Contains the `CParser` class for parsing the C source code.
- `generator.py`: Contains the `LuaGenerator` class for generating Lua code from the parsed data.
- `merger.py`: Contains the logic for merging multiple Lua files into one.

Generated files will appear in a `generated/` directory within the `converter` directory.

## How to Use

The tool is run from the command line. You need to provide the path to the directory containing the GUI-Guider generated C files.

**Command:**

```bash
python3 converter/main.py <path_to_c_files_directory> -o <path_to_output_lua_file>
```

**Example:**

Assuming your GUI-Guider project's generated C files are in `GUI-Guider-Projects/oobe/generated/`, you can run the converter with the following command from the project root:

```bash
python3 converter/main.py GUI-Guider-Projects/oobe/generated/ -o converter/generated/ui_oobe.lua
```

This command will:
1.  Create temporary Lua files for each `.c` file in a `converter/generated/temp/` directory.
2.  Merge these temporary files into a single output file named `ui_oobe.lua` inside `converter/generated/`.